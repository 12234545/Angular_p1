
<div class="course-detail-container">
   <app-navbar></app-navbar>

  <!-- Course Hero Section Modernisée -->
<section class="course-hero-modern">
  <div class="hero-background">
    <div class="animated-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
    </div>
  </div>

  <div class="hero-content-modern">
    <div class="course-main-info">
      <!-- Breadcrumb moderne -->
      <nav class="breadcrumb-modern">
        <span class="breadcrumb-item">Accueil</span>
        <span class="breadcrumb-separator">→</span>
        <span class="breadcrumb-item">Développement Web</span>
        <span class="breadcrumb-separator">→</span>
        <span class="breadcrumb-item active">React</span>
      </nav>

      <!-- Badge de catégorie -->
      <div class="course-category-badge">
        <span class="category-icon">⚡</span>
        Frontend Development
      </div>

      <!-- Titre principal -->
      <h1 class="course-title-modern">{{ course.title }}</h1>

      <!-- Sous-titre élégant -->
      <p class="course-subtitle">{{ course.description }}</p>

      <!-- Statistiques du cours -->
      <div class="course-stats-modern">
        <div class="stat-item">
          <div class="stat-icon">⭐</div>
          <div class="stat-content">
            <span class="stat-value">{{ course.rating }}</span>
            <span class="stat-label">Note</span>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon">👥</div>
          <div class="stat-content">
            <span class="stat-value">{{ course.studentsCount }}</span>
            <span class="stat-label">Étudiants</span>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon">🎯</div>
          <div class="stat-content">
            <span class="stat-value">{{ course.level }}</span>
            <span class="stat-label">Niveau</span>
          </div>
        </div>

        <div class="stat-item">
          <div class="stat-icon">⏱️</div>
          <div class="stat-content">
            <span class="stat-value">{{ course.duration }}</span>
            <span class="stat-label">Durée</span>
          </div>
        </div>
      </div>

      <!-- Instructeur info -->
      <div class="instructor-preview">
        <img [src]="course.instructor.image" [alt]="course.instructor.name" class="instructor-avatar-small">
        <div class="instructor-details">
          <span class="instructor-name">{{ course.instructor.name }}</span>
          <span class="instructor-title">Expert React & Frontend</span>
        </div>
        <div class="instructor-rating">
          <span class="rating-stars">★★★★★</span>
          <span class="rating-text">4.9/5</span>
        </div>
      </div>
    </div>

    <!-- Carte de cours moderne -->
    <div class="course-card-modern">
      <div class="card-header">
        <div class="course-image-container">
          <img [src]="course.image" [alt]="course.title" class="course-image-modern">

          <div class="course-badge">
            <span class="badge-text">Bestseller</span>
          </div>
        </div>
      </div>

      <div class="card-content">
        <!-- Prix avec animation -->
        <div class="pricing-section">
          <div class="price-main">
            <span class="current-price">${{ course.price }}</span>
            <div class="price-details">
              <span class="original-price">${{ course.originalPrice }}</span>
              <span class="discount-badge">-{{ course.discount }}%</span>
            </div>
          </div>

        </div>

        <!-- Boutons d'action -->
        <div class="action-buttons">
          <button class="btn-primary-modern">
            <span class="btn-text">Commencer maintenant</span>
            <span class="btn-icon">→</span>
          </button>
          <button class="btn-secondary-modern">
            <span class="btn-icon">♡</span>
            <span class="btn-text">Sauvegarder</span>
          </button>
        </div>



        <!-- Ce que vous obtenez -->
        <div class="course-includes-modern">
          <h4>Ce que vous obtenez :</h4>
          <div class="includes-list">

            <div class="include-item">
              <span class="include-icon">📚</span>
              <span class="include-text">Ressources exclusives</span>
            </div>
            <div class="include-item">
              <span class="include-icon">📱</span>
              <span class="include-text">Accès mobile & desktop</span>
            </div>
            <div class="include-item">
              <span class="include-icon">🏆</span>
              <span class="include-text">Certificat de réussite</span>
            </div>
            <div class="include-item">
              <span class="include-icon">💬</span>
              <span class="include-text">Support communauté</span>
            </div>
          </div>
        </div>

        <!-- Partage social moderne -->
        <div class="social-share-modern">
          <span class="share-text">Partager :</span>
          <div class="social-buttons-modern">
            <button class="social-btn modern facebook">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
              </svg>
            </button>
            <button class="social-btn modern twitter">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
              </svg>
            </button>
            <button class="social-btn modern linkedin">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
              </svg>
            </button>
            <button class="social-btn modern copy">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

  <!-- Course Navigation Tabs -->
  <nav class="course-nav">
    <button
      class="nav-tab"
      [class.active]="activeTab === 'about'"
      (click)="setActiveTab('about')">
      À propos
    </button>
    <button
      class="nav-tab"
      [class.active]="activeTab === 'content'"
      (click)="setActiveTab('content')">
      Contenu
    </button>
    <button
      class="nav-tab"
      [class.active]="activeTab === 'overview'"
      (click)="setActiveTab('overview')">
      Aperçu
    </button>
    <button
      class="nav-tab"
      [class.active]="activeTab === 'community'"
      (click)="setActiveTab('community')">
      Communauté
    </button>
  </nav>

  <!-- Course Content -->
  <main class="course-content">

    <!-- About Tab -->
    <div class="tab-content" *ngIf="activeTab === 'about'">
      <div class="about-section">
        <h2>Ce que vous apprendrez</h2>
        <div class="learning-outcomes">
          <div class="outcome-item" *ngFor="let outcome of course.whatYouLearn">
            <span class="check-icon">✓</span>
            <span>{{ outcome }}</span>
          </div>
        </div>

        <h2>Exigences</h2>
        <ul class="requirements-list">
          <li *ngFor="let requirement of course.requirements">{{ requirement }}</li>
        </ul>

        <h2>À propos de ce cours</h2>
        <p class="about-text">{{ course.about }}</p>

        <div class="instructor-section">
          <h2>Instructeur</h2>
          <div class="instructor-card">
            <img [src]="course.instructor.image" [alt]="course.instructor.name" class="instructor-avatar">
            <div class="instructor-info">
              <h3>{{ course.instructor.name }}</h3>
              <p>{{ course.instructor.bio }}</p>
              <div class="instructor-stats">
                <div class="stat">
                  <span class="stat-number">4.8</span>
                  <span class="stat-label">Note instructeur</span>
                </div>
                <div class="stat">
                  <span class="stat-number">2,547</span>
                  <span class="stat-label">Avis</span>
                </div>
                <div class="stat">
                  <span class="stat-number">25,000</span>
                  <span class="stat-label">Étudiants</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Content Tab -->
    <div class="tab-content" *ngIf="activeTab === 'content'">
      <div class="content-section">
        <div class="content-header">
          <h2>Contenu du cours</h2>
          <div class="content-summary">
            <span>{{ course.modules.length }} sections • {{ getTotalLessons() }} leçons • {{ getTotalDuration() }} au total</span>
          </div>
        </div>

        <div class="progress-bar">
          <div class="progress-fill" [style.width.%]="getCompletionPercentage()"></div>
        </div>
        <p class="progress-text">{{ getCompletionPercentage() }}% terminé</p>

        <div class="modules-list">
          <div class="module-item" *ngFor="let module of course.modules">
            <div class="module-header" (click)="toggleModule(module.id)">
              <div class="module-info">
                <span class="expand-icon" [class.expanded]="isModuleExpanded(module.id)">▶</span>
                <h3>{{ module.title }}</h3>
                <span class="module-duration">{{ module.duration }}</span>
              </div>
              <div class="module-status">
                <span class="completion-badge" [class.completed]="module.completed">
                  {{ module.completed ? '✓' : '○' }}
                </span>
              </div>
            </div>

            <div class="module-content" *ngIf="isModuleExpanded(module.id)">
              <div class="lesson-item" *ngFor="let lesson of module.lessons">
                <div class="lesson-info">
                  <span class="lesson-icon">{{ getLessonIcon(lesson.type) }}</span>
                  <span class="lesson-title">{{ lesson.title }}</span>
                  <span class="lesson-duration">{{ lesson.duration }}</span>
                </div>
                <div class="lesson-status">
                  <span class="completion-status" [class.completed]="lesson.completed">
                    {{ lesson.completed ? '✓' : '○' }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Overview Tab -->
    <!-- Overview Tab -->
<div class="tab-content" *ngIf="activeTab === 'overview'">
  <div class="overview-section">
    <div class="overview-header">
      <h2>Découvrez l'impact de cette formation</h2>
      <p class="overview-subtitle">Rencontrez les étudiants qui ont transformé leur carrière grâce à ce cours</p>
    </div>



    <!-- Success Stories -->
    <div class="success-stories">
      <h3>Histoires de réussite</h3>
      <div class="stories-grid">
        <div class="story-card">
          <div class="story-header">
            <img src="pictures/M3.jpg" alt="Étudiant" class="student-avatar">
            <div class="student-info">
              <h4>Alexandre Martin</h4>
              <span class="student-role">Développeur Frontend chez Google</span>
            </div>
          </div>
          <div class="story-content">
            <p>"Ce cours m'a permis de passer de débutant à développeur senior en 6 mois. J'ai décroché mon emploi de rêve chez Google grâce aux compétences acquises."</p>
          </div>
          <div class="story-footer">
            <span class="story-date">Diplômé en Mars 2024</span>
            <div class="story-tags">
              <span class="tag">React</span>
              <span class="tag">JavaScript</span>
            </div>
          </div>
        </div>

        <div class="story-card">
          <div class="story-header">
            <img src="pictures/W1.JPG" alt="Étudiant" class="student-avatar">
            <div class="student-info">
              <h4>Sarah Dubois</h4>
              <span class="student-role">Lead Developer chez Amazon</span>
            </div>
          </div>
          <div class="story-content">
            <p>"Une formation complète qui m'a donné toutes les clés pour réussir. J'ai créé ma propre startup et j'ai été rachetée par Amazon."</p>
          </div>
          <div class="story-footer">
            <span class="story-date">Diplômée en Janvier 2024</span>
            <div class="story-tags">
              <span class="tag">Startup</span>
              <span class="tag">Leadership</span>
            </div>
          </div>
        </div>

        <div class="story-card">
          <div class="story-header">
            <img src="pictures/M4.jpg" alt="Étudiant" class="student-avatar">
            <div class="student-info">
              <h4>Thomas Bernard</h4>
              <span class="student-role">Freelance - 8000€/mois</span>
            </div>
          </div>
          <div class="story-content">
            <p>"J'ai quitté mon travail pour me lancer en freelance. Aujourd'hui, je gagne 3 fois plus et je travaille de n'importe où dans le monde."</p>
          </div>
          <div class="story-footer">
            <span class="story-date">Diplômé en Juillet 2023</span>
            <div class="story-tags">
              <span class="tag">Freelance</span>
              <span class="tag">Nomad</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Career Progression -->
    <div class="career-progression">
      <h3>Progression de carrière typique</h3>
      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-content">
            <h4>Mois 1-2</h4>
            <p>Maîtrise des bases React et JavaScript</p>
            <span class="progress-status">Fondations solides</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-content">
            <h4>Mois 3-4</h4>
            <p>Développement d'applications complètes</p>
            <span class="progress-status">Projets concrets</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-content">
            <h4>Mois 5-6</h4>
            <p>Portfolio professionnel et recherche d'emploi</p>
            <span class="progress-status">Prêt pour le marché</span>
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-dot"></div>
          <div class="timeline-content">
            <h4>Après 6 mois</h4>
            <p>Poste de développeur ou freelance</p>
            <span class="progress-status">Objectif atteint</span>
          </div>
        </div>
      </div>
    </div>



    <!-- Skills Acquired -->
    <div class="skills-acquired">
      <h3>Compétences acquises</h3>
      <div class="skills-grid">
        <div class="skill-item">
          <div class="skill-icon">⚛️</div>
          <span class="skill-name">React Avancé</span>
        </div>
        <div class="skill-item">
          <div class="skill-icon">🟨</div>
          <span class="skill-name">JavaScript ES6+</span>
        </div>
        <div class="skill-item">
          <div class="skill-icon">🎨</div>
          <span class="skill-name">UI/UX Design</span>
        </div>
        <div class="skill-item">
          <div class="skill-icon">🔧</div>
          <span class="skill-name">Git & GitHub</span>
        </div>
        <div class="skill-item">
          <div class="skill-icon">📱</div>
          <span class="skill-name">Responsive Design</span>
        </div>
        <div class="skill-item">
          <div class="skill-icon">🚀</div>
          <span class="skill-name">Déploiement</span>
        </div>
      </div>
    </div>

    <!-- Video Testimonial -->
    <div class="video-testimonial">
      <h3>Témoignage vidéo</h3>
      <div class="video-container">
        <div class="video-thumbnail">
          <video src="pictures/video.mp4" alt="Témoignage vidéo" controls>

          </video>
        </div>
        <div class="video-info">
          <h4>Maria Rodriguez - De débutante à CTO</h4>
          <p>Découvrez comment Maria a transformé sa carrière en seulement 8 mois</p>
          <span class="video-duration">⏱️ 3 min</span>
        </div>
      </div>
    </div>
  </div>
</div>


    <!-- Community Tab -->
<div class="tab-content" *ngIf="activeTab === 'community'">
  <div class="community-section">
    <h2>Communauté</h2>

    <!-- Navigation de la communauté -->
    <div class="community-nav">
      <button class="community-tab" [class.active]="communityTab === 'forum'" (click)="setCommunityTab('forum')">
        <span class="tab-icon">💬</span>
        Forum
      </button>
      <button class="community-tab" [class.active]="communityTab === 'blog'" (click)="setCommunityTab('blog')">
        <span class="tab-icon">📝</span>
        Blog
      </button>
      <button class="community-tab" [class.active]="communityTab === 'polls'" (click)="setCommunityTab('polls')">
        <span class="tab-icon">📊</span>
        Sondages
      </button>
      <button class="community-tab" [class.active]="communityTab === 'references'" (click)="setCommunityTab('references')">
        <span class="tab-icon">📚</span>
        Références
      </button>
      <button class="community-tab" [class.active]="communityTab === 'announcements'" (click)="setCommunityTab('announcements')">
        <span class="tab-icon">📢</span>
        Annonces
      </button>
      <button class="community-tab" [class.active]="communityTab === 'opportunities'" (click)="setCommunityTab('opportunities')">
        <span class="tab-icon">🚀</span>
        Opportunités
      </button>
    </div>

    <!-- Forum Section -->
    <div class="community-content" *ngIf="communityTab === 'forum'">
      <div class="forum-section">
        <div class="forum-header">
          <h3>Forum de discussion</h3>
          <button class="btn-new-post" >
            <span class="btn-icon">➕</span>
            Nouveau post
          </button>
        </div>

        <!-- Formulaire nouveau post -->
        <div class="new-post-form" *ngIf="">
          <div class="form-group">
            <input type="text" placeholder="Titre de votre post" [(ngModel)]="newPost.title" class="form-input">
          </div>
          <div class="form-group">
            <select [(ngModel)]="newPost.category" class="form-select">
              <option value="Questions">Questions</option>
              <option value="Projets">Projets</option>
              <option value="Aide">Aide</option>
              <option value="Discussion">Discussion</option>
            </select>
          </div>
          <div class="form-group">
            <textarea placeholder="Contenu de votre post" [(ngModel)]="newPost.content" class="form-textarea"></textarea>
          </div>
          <div class="form-actions">
            <button class="btn-create" (click)="createForumPost()">Créer le post</button>
            <button class="btn-cancel" >Annuler</button>
          </div>
        </div>

        <!-- Liste des posts -->
        <div class="forum-posts">
          <div class="forum-post" *ngFor="let post of forumPosts">
            <div class="post-header">
              <span class="post-category">{{ post.category }}</span>
              <h4 class="post-title">{{ post.title }}</h4>
            </div>
            <div class="post-meta">
              <span class="post-author">Par {{ post.author }}</span>
              <span class="post-replies">{{ post.replies }} réponses</span>
              <span class="post-activity">Dernière activité: {{ post.lastActivity }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Blog Section -->
    <div class="community-content" *ngIf="communityTab === 'blog'">
      <div class="blog-section">
        <h3>Articles du blog</h3>
        <div class="blog-posts">
          <div class="blog-post" *ngFor="let post of blogPosts">
            <div class="blog-post-header">
              <h4 class="blog-title">{{ post.title }}</h4>
              <span class="blog-read-time">{{ post.readTime}} de lecture</span>
            </div>
            <p class="blog-excerpt">{{ post.excerpt }}</p>
            <div class="blog-meta">
              <span class="blog-author">Par {{ post.author }}</span>
              <span class="blog-date">{{ post.date }}</span>
            </div>
            <button class="btn-read-more">Lire plus</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Polls Section -->
    <div class="community-content" *ngIf="communityTab === 'polls'">
      <div class="polls-section">
        <h3>Sondages</h3>
        <div class="polls-list">
          <div class="poll" *ngFor="let poll of polls">
            <h4 class="poll-question">{{ poll.question }}</h4>
            <div class="poll-options">
              <div class="poll-option" *ngFor="let option of poll.options; let i = index">
                <button class="option-btn" (click)="voteInPoll(poll.id, i)">
                  <span class="option-text">{{ option.option }}</span>
                  <span class="option-votes">{{ option.votes }} votes</span>
                </button>
                <div class="vote-bar">
                  <div class="vote-fill" [style.width.%]="(option.votes / poll.totalVotes) * 100"></div>
                </div>
              </div>
            </div>
            <div class="poll-total">Total: {{ poll.totalVotes }} votes</div>
          </div>
        </div>
      </div>
    </div>

    <!-- References Section -->
    <div class="community-content" *ngIf="communityTab === 'references'">
      <div class="references-section">
        <h3>Références et ressources</h3>
        <div class="references-list">
          <div class="reference-item" *ngFor="let ref of references">
            <div class="reference-icon">{{ getReferenceIcon(ref.type) }}</div>
            <div class="reference-content">
              <h4 class="reference-title">{{ ref.title }}</h4>
              <p class="reference-description">{{ ref.description }}</p>
              <a href="{{ ref.url }}" target="_blank" class="reference-link">
                <span class="link-text">Accéder à la ressource</span>
                <span class="link-icon">↗</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Announcements Section -->
    <div class="community-content" *ngIf="communityTab === 'announcements'">
      <div class="announcements-section">
        <h3>Annonces du cours</h3>
        <div class="announcements-list">
          <div class="announcement" *ngFor="let announcement of announcements">
            <div class="announcement-header">
              <span class="priority-icon">{{ getPriorityIcon(announcement.priority) }}</span>
              <h4 class="announcement-title">{{ announcement.title }}</h4>
              <span class="announcement-date">{{ announcement.date }}</span>
            </div>
            <p class="announcement-content">{{ announcement.content }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Opportunities Section -->
    <div class="community-content" *ngIf="communityTab === 'opportunities'">
      <div class="opportunities-section">
        <h3>Opportunités et collaborations</h3>
        <div class="opportunities-list">
          <div class="opportunity" *ngFor="let opportunity of opportunities">
            <div class="opportunity-header">
              <span class="opportunity-icon">{{ getOpportunityIcon(opportunity.type) }}</span>
              <div class="opportunity-info">
                <h4 class="opportunity-title">{{ opportunity.title }}</h4>
                <p class="opportunity-company">{{ opportunity.company }}</p>
              </div>
              <span class="opportunity-type">{{ opportunity.type }}</span>
            </div>
            <div class="opportunity-details">
              <span class="opportunity-location">📍 {{ opportunity.location }}</span>
              <span class="opportunity-deadline">⏰ Échéance: {{ opportunity.deadline }}</span>
            </div>
            <button class="btn-apply">Postuler</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  </main>

  <!-- Recommended Courses -->
  <section class="recommended-courses">
    <h2>Cours recommandés pour vous</h2>
    <div class="courses-grid">
      <div class="course-card-small" *ngFor="let i of [1,2,3]">
        <div class="course-image">
          <img src="pictures/course-{{ i }}.png" alt="Cours recommandé">
        </div>
        <div class="course-info">
          <h3>Cours recommandé {{ i }}</h3>
          <p class="instructor">Par John Doe</p>
          <div class="rating">
            <span class="stars">★★★★★</span>
            <span class="rating-number">4.8</span>
          </div>
          <div class="price">
            <span class="current">$49.99</span>
            <span class="original">$99.99</span>
          </div>
        </div>
      </div>
    </div>
  </section>


 <app-floating-chatbot></app-floating-chatbot>
</div>
